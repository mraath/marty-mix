# 18.17 information

Parent:: [[Config]]

## BE

Has its own repo / branch - ensure to work from there and clean build

## Client - DynaMiX.DeviceConfig.Services.API.Client

- SET build to **release** for DynaMiX.DeviceConfig.Services.API.Client.csproj  
- SET DynaMiX.DeviceConfig.Services.API.Client.nuspec file
	- set <version>20220509.18.17.1-alpha</version> (can be checked in)  
- RUN "create nuget.cmd" to create nupkg (DONT check in)
- SEND to Jacques to upload to azure
	- ou client is updateable - ek het 'n script geskry wat dit nuget (wat jy steeds locally build as release version) na Azure Artifacts push
	- Dis een van die saved chats in teams

## API

- The new common project classes has to be pulled into the API as it wasn't present back in 18.17



## Build pipelines 18.17

DB: [Pipelines - Runs for OLTP_Database (visualstudio.com)](https://mixtelematics.visualstudio.com/Common/_build?definitionId=39)
API: [Pipelines - Runs for - DS version DynaMiX.DeviceConfig (azure.com)](https://dev.azure.com/MiXTelematics/DeviceIntegration/_build?definitionId=618)
BE: [Pipelines - Runs for DynaMiX.Backend DS (Legacy) (visualstudio.com)](https://mixtelematics.visualstudio.com/Common/_build?definitionId=660)
FE: [Pipelines - Runs for MiX Fleet Manager UI (visualstudio.com)](https://mixtelematics.visualstudio.com/Common/_build?definitionId=119)

## Deployment

- **DB**: Manual deploy. Ask DBA to help.
	- Download the OLTP.zip artifact  (Just add the url if too large)
	- Add it on the CR
	- Ask Duppie to run the  DeviceConfig OLTP
- **API**: Backup current. Copy new, paste. **DON'T** overwrite the config file
- **BE**: xxx
- **FE**: xxx

Jumpbox? HSUAEATS01
Any issues on UAE talk to Infrastructure
SQL: HSUAESQL01\DUBAI
Swagger: http://api.deviceconfig.uae.production.local
https://ae.mixtelematics.com

AssetID: -7908487649339855974
- [x] Events SProc Truncated!!!!!
- (39 rows affected)
Msg 8152, Level 16, State 13, Procedure MobileUnit_GetMobileUnitConfigFileEvents, Line 75 [Batch Start Line 2]
String or binary data would be truncated.
[Description]    NVARCHAR(MAX), << TRY THIS?!!?? ALSO lower down - check file sent to duppi


## Steps for DB deployment to 18.17 UAE

- Merge your changes into 18.17
- Run the build pipeline and ensure it goes through
- Make sure you set the pipeline to 18.17
- https://mixtelematics.visualstudio.com/Common/_build?definitionId=39
- Once build went through go to the artifacts
- Copy the url to the OLTP.zip
- Create a [[CR]] and add the url there
- Ask Duppie to run the DeviceConfig OLTP for UAE
- Double check your changes are on UAE




## 18.17

[[18.17]]